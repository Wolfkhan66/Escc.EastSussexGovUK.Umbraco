@using ClientDependency.Core.Mvc
@using Escc.EastSussexGovUK.Skins
@using Escc.EastSussexGovUK.Views
@using Escc.Web
@inherits Umbraco.Web.Mvc.UmbracoViewPage<Escc.EastSussexGovUK.Umbraco.Models.JobSearchResultsViewModel>
@{
    Model.EsccWebsiteView = ViewSelector.CurrentViewIs(Layout, ViewEngine.Mvc);
    Model.EsccWebsiteSkin = new CustomerFocusSkin(Model.EsccWebsiteView);
    Html.RequiresCss("~/css/jobs/jobs-small.css");
    Html.RequiresCss(Request.Url.AbsolutePath + "?alttemplate=JobSearchResultsCss&media-query=small", 101);
    new ContentSecurityPolicyHeaders(Response.Headers).AppendPolicy(new ContentSecurityPolicyFromConfig().Policies["TalentLink"]).UpdateHeaders();

    var headerClass = Model.HeaderBackgroundImage != null ? "with-image" : String.Empty;
}
@section Breadcrumb {}
<div class="jobs-header @headerClass">
    <div class="text-content">
        @if (Model.JobsLogo != null)
        {
            <h1><img src="@Model.JobsLogo.ImageUrl" alt="@Model.Metadata.Title" width="@Model.JobsLogo.Width"/></h1>
        }
        @if (Model.LoginPage != null)
        {
            <p class="login"><a href="@Model.LoginPage.Url">@Model.LoginPage.Text</a></p>
        }
    </div>
</div>
<div class="jobs-content full-page">
    <div class="content text-content">
        <script src="@Model.ResultsScriptUrl"></script>
        <noscript><a href="@Model.ResultsLinkUrl">@Model.Metadata.Title</a></noscript>
        @Html.Partial("~/Views/JobsButtons.cshtml")
    </div>
</div>


